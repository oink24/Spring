<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org"
	  xmlns:sec="http://thymeleaf.org/extras/spring-security">
	<head>
		<meta charset="UTF-8">
		<title>Ch09::index</title>
	</head>
	<body>
		<h3>Ch09. Spring Security 실습</h3>

		<h4>인증 테스트</h4>
		<!-- 비로그인 사용자만 보이는 블럭 -->
		<th:block sec:authorize="isAnonymous()">
			<a th:href="@{/user/register}">User 회원가입</a>
			<a th:href="@{/user/login}">User 로그인</a>
		</th:block>

		<!-- 권한이 있는 사용자만 보이는 블럭 -->
		<th:block sec:authorize="isAuthenticated()">
			<a th:href="@{/user/logout}">로그아웃</a>
		</th:block>

		<h4>인가 테스트</h4>
		<!-- 권한이 ADMIN인 사람만 보이는 블럭 -->
		<th:block sec:authorize="hasAuthority('ADMIN')">
			<a th:href="@{/admin/index}">관리자 페이지</a>
		</th:block>

		<!-- 권한이 ADMIN, MANAGER인 사람만 보이는 블럭 -->
		<th:block sec:authorize="hasAnyAuthority('ADMIN', 'MANAGER')">
			<a th:href="@{/manager/index}">매니저 페이지</a>
		</th:block>
	</body>
</html>